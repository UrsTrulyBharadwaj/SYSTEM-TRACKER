<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HUNTER SYSTEM V2.0 - RPG Habit Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html, body {
      height: 100%;
      background: #111929;
      font-family: 'Roboto Mono', monospace;
      color: #a0b8d9;
      line-height: 1.55;
      letter-spacing: 0.01em;
      margin: 0; padding: 0;
    }
    .navy-panel {
      background: #171e2a;
      border-radius: 16px;
      box-shadow: 0 4px 32px #0d1827bb;
      border: 1.5px solid #23344e;
      backdrop-filter: blur(7px);
      margin-top: 0.8rem;
    }
    .tab-bar {
      background: #162138;
      border-radius: 12px 12px 0 0;
      margin-bottom: 0.1em;
      overflow: auto;
    }
    .tab-btn, .tab-btn:visited {
      border: none;
      background: transparent;
      color: #48cdfa;
      font-weight: 700;
      font-size: 1rem;
      letter-spacing: 0.13em;
      padding: 0.84em 1.8em;
      cursor: pointer;
      border-bottom: 2.5px solid transparent;
      transition: color 0.13s, border 0.13s;
      box-shadow: none;
      outline: none;
    }
    .tab-btn.tab-on,
    .tab-btn:focus {
      border-bottom: 2.5px solid #07dede;
      background: #19243c;
      color: #27e2fe;
      text-shadow: 0 0 3px #00f0ffee;
    }
    .main-heading {
      color: #25e6ff;
      letter-spacing: 0.18em;
      font-weight: 700;
      text-shadow: 0 0 6px #1fd5e7cc;
      font-size: 2rem;
    }
    .section-label {
      color: #1bd9e9;
      font-size: 1.07rem;
      font-weight: 700;
      margin: 0.25em 0 0.7em;
      letter-spacing: 0.10em;
      text-shadow: 0 0 2px #3be7fc77;
    }
    .exp-bar-bg {
      background: #23344e;
      border-radius: 8px;
      height: 15px;
      margin-top: 6px;
    }
    .exp-bar {
      background: linear-gradient(90deg, #11e8f8 25%, #5af1fc 85%);
      border-radius: 8px;
      height: 100%;
      transition: width .23s cubic-bezier(.54,.21,.36,1.09);
    }
    .btn-claim, .btn-create {
      background: linear-gradient(90deg, #19fff9 70%, #33b9f3);
      color: #173356;
      font-weight: 700;
      border: none;
      font-size: 1rem;
      border-radius: 9px;
      padding: 0.62em 1.5em;
      margin-top: 0.56em;
      margin-right: 1em;
      box-shadow: 0 1.7px 8px #40e5fa38;
      letter-spacing: 0.03em;
      cursor: pointer;
      transition: background .1s;
    }
    .btn-claim:disabled { background:#395b6d48; color:#83ccd6; cursor:default;}
    .btn-create {margin-top:0;}
    .streak-label {
      background: #172234;
      border-radius: 7px;
      color: #48f3f8;
      font-size: 0.92rem;
      font-weight: 600;
      margin-left: 10px;
      padding: 0.17em 1.0em;
      letter-spacing: 0.02em;
      box-shadow: 0 1px 4px #24e8fa36;
    }
    .glass-modal-bg {
      position:fixed; inset:0;
      background:rgba(13,22,41,0.93);
      z-index:50;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 10px;
    }
    .glass-panel-lg {
      background: #1d2639ef;
      border: 1.6px solid #34b6e3;
      box-shadow: 0 6px 28px #0ed2e646;
      border-radius: 12px;
      padding:2.12em 1.4em 1.3em;
      min-width: 288px;
      width: 98vw;
      max-width: 350px;
    }
    ::selection { background: #92e9ffd1; }
    svg.icon {
      fill: none;
      stroke: #22e6fc;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
      height: 1.15em;
      width: 1.15em;
      margin-right: 7px;
      margin-bottom: 0px;
    }
    .stats-container {
      display: flex;
      gap: 6px;
      justify-content: center;
      align-items: center;
      margin-top: 12px;
    }
    .stat-block {
      background: #182234;
      border: 1.2px solid #29a3f8cc;
      border-radius: 12px;
      box-shadow: none;
      flex: 1 1 auto;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      min-width: 95px;
      padding: 0.7em 1.2em;
      font-size: 1rem;
      font-weight: 600;
      color: #69eaff;
      letter-spacing: 0.085em;
      text-shadow: none;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .stat-title {
      margin-right: 0.15em;
    }
    .stat-value {
      font-weight: 700;
      color: #19e5f7;
      margin-left: 0.3em;
    }
    @media (max-width: 768px) {
      .main-heading { font-size: 1.45rem; }
      .navy-panel { margin: 0 1rem; padding: 1.5rem 1rem!important; }
      .stats-container {
        flex-direction: column;
      }
      .stat-block {
        min-width: auto;
        width: 100%;
        justify-content: flex-start;
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>
<div id="root"></div>
<script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel">
const todayISO = ()=>new Date().toISOString().slice(0,10);
const uid = ()=>Math.random().toString(36).slice(2,10);
const STORAGE_KEY = "hunter_system_v2";
function loadLocal() {
  const raw = localStorage.getItem(STORAGE_KEY);
  if (raw) return JSON.parse(raw);
  return {
    profile: {name:"Hunter",xp:0,level:1},
    habits:[],
    rewards:[]
  };
}
function saveLocal(state) {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
}
const gainXP = streak => streak>=3?15:10;
const recomputeLevel = xp=>1+Math.floor(xp/100);
function getRankTitle(level) {
  if(level >= 11) return "Elite Specialist";
  if(level >= 6) return "Rookie Analyst";
  if(level >= 1) return "Novice Hunter";
  return "Unregistered";
}
// Settings modal
function SettingsModal({profile,onSave,onClose}) {
  const [name,setName]=React.useState(profile?.name||"");
  return (
    <div className="glass-modal-bg">
      <div className="glass-panel-lg">
        <h3 className="main-heading text-lg mb-7 mt-1 text-center">SYSTEM SETTINGS</h3>
        <p className="mb-3 mt-2 text-[#40e5fa] text-center">Set your <b>Hunter Display Name</b></p>
        <input value={name} onChange={e=>setName(e.target.value)} placeholder="e.g., Bharadwaj" autoFocus
          className="w-full p-2 mb-5 rounded border border-[#29cdff] text-base bg-[#181f2b] text-[#39ebf8] focus:outline-none focus:border-[#21cdfc] font-bold transition"/>
        <button className="btn-create w-full text-center" onClick={()=>onSave(name)}>SAVE & CONTINUE</button>
        <button className="mt-5 w-full text-xs text-slate-400" style={{background:"none",border:"0"}} onClick={onClose}>✕ Cancel</button>
      </div>
    </div>
  );
}
// Create Quest modal
function CreateHabitModal({onSave,onClose}) {
  const [name,setName]=React.useState(""), [reward,setReward]=React.useState("");
  return (
    <div className="glass-modal-bg">
      <div className="glass-panel-lg">
        <h3 className="main-heading text-base mb-5 text-center">CREATE NEW QUEST</h3>
        <input type="text" value={name} onChange={e=>setName(e.target.value)}
          placeholder="e.g., Healthy Diet" className="w-full p-2 mb-4 rounded border border-[#36e7ff] text-base bg-[#181f2b] text-[#00c2eb] font-bold focus:outline-none"/>
        <input type="text" value={reward} onChange={e=>setReward(e.target.value)} placeholder="7-Day Reward (e.g., Biryani Pass Unlocked!)"
          className="w-full p-2 mb-4 rounded border border-[#36e7ff] text-base bg-[#181f2b] text-[#97f1fe] focus:outline-none"/>
        <div className="mt-4 flex gap-3">
          <button className="btn-create flex-1" type="button" onClick={()=>{if(name) onSave({name,rewardDescription:reward});}}>ACTIVATE QUEST</button>
          <button className="flex-1 border-0 text-slate-400 hover:text-[#1af1fe]" style={{background:"none"}} onClick={onClose}>CANCEL</button>
        </div>
      </div>
    </div>
  );
}
// Main app
function App() {
  const [state,setState]=React.useState(loadLocal());
  const [modal,setModal]=React.useState(!state.profile.name?"settings":null);
  const [tab,setTab]=React.useState(0);
  React.useEffect(()=>saveLocal(state),[state]);
  // Save name
  const saveName = (name)=>{
    const next={...state,profile:{...state.profile,name}};
    setState(next); setModal(null);
  };
  // Add habit
  const addHabit = ({name,rewardDescription})=>{
    if(!name)return;
    const h={id:uid(),name:name.trim(),logs:[],streak:0,rewardDescription:rewardDescription.trim()};
    setState({...state,habits:[...state.habits,h]}); setModal(null);
  };
  // Claim habit
  const toggleHabit = hid=>{
    const t=todayISO();
    const next=JSON.parse(JSON.stringify(state));
    const h=next.habits.find(x=>x.id===hid);if(!h)return;
    const already=h.logs.includes(t);
    if(!already){
      h.logs.push(t);
      let streak=0,days=new Set(h.logs);
      for(let i=0;;i++){const d=new Date(); d.setDate(d.getDate()-i);const iso=d.toISOString().slice(0,10);if(days.has(iso))streak++;else break;}
      h.streak=streak; next.profile.xp+=(gainXP(streak)); next.profile.level=recomputeLevel(next.profile.xp);}
    setState(next);
  };
  // Icons
  const ManaIcon = () => (
    <svg className="icon" viewBox="0 0 24 24"><polyline points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
  );
  const RewardsIcon = () => (
    <svg className="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="8 12 12 16 16 12"/></svg>
  );
  const CompletionIcon = () => (
    <svg className="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="9 12 12 15 16 10"/></svg>
  );
  // Render
  const tabs = ["STATUS WINDOW","DAILY QUESTS","REWARDS INVENTORY"];
  return (
    <div style={{minHeight:"100vh",background:"#111929"}}>
      <div className="mx-auto max-w-3xl p-0">
        <header className="flex flex-col md:flex-row md:items-center md:justify-between py-7 px-4">
          <span className="main-heading tracking-wider md:mb-0 mb-3">HUNTER SYSTEM V2.0</span>
          <div className="rounded px-5 py-2 bg-[#181f2c] flex items-center justify-end min-w-[160px]">
            <span style={{color:'#43e6fa',letterSpacing:".08em"}} className="text-base font-bold tracking-wide">USER: {state.profile.name||"Hunter"}</span>
            <button onClick={()=>setModal("settings")} title="Edit Display Name"
              className="ml-3 px-0 py-1 border-0 bg-transparent text-[#13e9ff] hover:text-[#07e3fe] text-2xl" aria-label="settings">⚙</button>
          </div>
        </header>
        <nav className="tab-bar flex flex-row justify-center px-2">
          {tabs.map((t,i)=>
            <button key={t}
              className={"tab-btn"+(tab===i?" tab-on":"")}
              style={i===tab?{fontWeight:900}:{fontWeight:700}}
              onClick={()=>setTab(i)}>{t}</button>
          )}
        </nav>
        <main className="navy-panel px-0 py-8 mt-2">
          {/* --- Status Window --- */}
          {tab===0 && (<>
            <div className="text-center mb-6">
              <div className="section-label">SYSTEM ALERT</div>
              <div className="text-xl sm:text-2xl font-extrabold text-[#0fecff] pb-2" style={{letterSpacing:".09em",fontWeight:800,marginBottom:0}}>
                {(() => {
                  const h = new Date().getHours();
                  let t = h < 12 ? "Good Morning" : h < 18 ? "Good Afternoon" : "Good Evening";
                  return `${t}, Hunter ${state.profile.name||"Hunter"}!`;
                })()}
              </div>
              <div className="text-base font-semibold text-[#48cdfa] mt-1 mb-0.5 tracking-wide" style={{letterSpacing:'.033em'}}>
                Time to level up.
              </div>
            </div>
            <div className="max-w-xl mx-auto bg-[#172239] border-[1.2px] border-[#18b7cc99] rounded-xl px-4 py-7 shadow-lg flex flex-col gap-4">
              <div>
                <span className="main-heading text-base inline-block mb-1">LEVEL {state.profile.level} <span className="font-normal text-base text-[#2ae4fa] ml-2">({getRankTitle(state.profile.level)})</span></span>
                <div className="exp-bar-bg mt-3 mb-2">
                  <div className="exp-bar" style={{width:`${(state.profile.xp%100)}%`}}></div>
                </div>
                <span className="block text-xs text-[#77eafe] pb-2">EXP: {state.profile.xp} | {100-(state.profile.xp%100)} EXP TO LEVEL {state.profile.level+1}</span>
              </div>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4 pt-2">
                <div className="bg-[#181f2a] rounded-lg p-3 flex items-center justify-center gap-2 section-label" style={{fontSize:"0.99rem"}}>
                  <ManaIcon/>⚡ MANA / FOCUS: <b className="ml-1" style={{color:"#19e5f7"}}>100%</b>
                </div>
                <div className="bg-[#181f2a] rounded-lg p-3 flex items-center justify-center gap-2 section-label" style={{fontSize:"0.99rem"}}>
                  <RewardsIcon/>🎁 REWARDS PENDING: <b className="ml-1" style={{color:"#1af1fe"}}>{(state.habits.filter(q=>q.streak>=7)).length}</b>
                </div>
                <div className="bg-[#181f2a] rounded-lg p-3 flex items-center justify-center gap-2 section-label" style={{fontSize:"0.99rem"}}>
                  <CompletionIcon/>🎯 TODAY'S COMPLETION: <b className="ml-1" style={{color:"#11e7fe"}}>
                    {state.habits.length === 0 ? "0" : Math.round(state.habits.filter(q=>q.logs.includes(todayISO())).length/state.habits.length*100)}%
                  </b>
                </div>
              </div>
            </div>
          </>)}
          {/* --- Daily Quests --- */}
          {tab===1 && (<>
            <div className="flex justify-end pr-6 pb-4">
              <button className="btn-create tracking-wider" title="Create new quest" onClick={()=>setModal("create")}>CREATE NEW QUEST</button>
            </div>
            {state.habits.length===0 && <div className="py-16 text-center text-[#38fefb99]">No Quests Active. Click 'Create New Quest' to begin!</div>}
            <div className="space-y-6">
              {state.habits.map((h,idx)=>(
                <div key={h.id} className="glass-panel-lg mb-1 bg-[#17294aee] border-[1.2px] border-[#04e3eb56] shadow-md flex items-center gap-6">
                  <div className="flex-grow">
                    <div className="main-heading text-base pb-1">{h.name}</div>
                    {h.rewardDescription && <div className="block text-sm text-[#60eeff] mb-2" style={{fontWeight:600}}>Reward: {h.rewardDescription}</div>}
                    <span className="streak-label">Streak: {h.streak||0}</span>
                  </div>
                  <button className="btn-claim" disabled={h.logs.includes(todayISO())} onClick={()=>toggleHabit(h.id)}>
                    {h.logs.includes(todayISO()) ? "CLAIMED" : "CLAIM XP"}
                  </button>
                </div>
              ))}
            </div>
          </>)}
          {/* --- Rewards Inventory --- */}
          {tab===2 && (<>
            <div className="section-label text-center mb-7">EARNED REWARDS</div>
            <ul className="space-y-4 px-2 md:px-10">
              {state.habits.filter(h=>h.streak>=7 && h.rewardDescription).length===0 &&
                <li className="py-8 text-[#a0b8d997] text-center">Complete 7-day streaks with a reward to see inventory!</li>}
              {state.habits.filter(h=>h.streak>=7 && h.rewardDescription).map(h=>
                <li key={h.id} className="glass-panel-lg bg-[#23364aee] flex justify-between items-center">
                  <div>
                    <div className="section-label">{h.rewardDescription}</div>
                    <div className="text-xs text-[#78e7ff]">Quest: {h.name}</div>
                  </div>
                  <span className="streak-label">Streak: {h.streak||0}</span>
                </li>
              )}
            </ul>
          </>)}
        </main>
        {modal==="settings"&&<SettingsModal profile={state.profile} onSave={saveName} onClose={()=>setModal(null)}/>}
        {modal==="create"&&<CreateHabitModal onSave={addHabit} onClose={()=>setModal(null)}/>}
      </div>
    </div>
  );
}
ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>
</body>
</html>
